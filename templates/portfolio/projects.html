{% extends "base.html" %}

{% block content %}
<section class="projects container mt-5">
  <h2 class="text-center mb-4"><strong>My Projects</strong></h2>

  <!-- Projects Grid -->
  <div class="row">
    {% for project in projects %}
    <div class="col-md-4 mb-4">
      <div class="card shadow-sm h-100">
        <div class="card-body d-flex flex-column">
          <!-- Project Title and Description-->
          <h5 class="card-title text-primary">{{ project.title }}</h5>
          <p class="card-text" id="description_{{ project.project_id }}">{{ project.description | truncate(100) }}</p>
          <p class="card-text" id="full_description_{{ project.project_id }}" style="display:none;">
            {{ project.description }}
          </p>
          <a href="javascript:void(0);" onclick="toggleDescription({{ project.project_id }})" class="text-primary" id="more_link_{{ project.project_id }}">
            Show More
          </a>
          <p class="text-muted"><strong>Technologies:</strong> {{ project.technologies }}</p>
          <!-- Project Status -->
          <p>
            <strong>Status:</strong>
            <span class="badge badge-{{ 'success' if project.link else 'warning' }}">
              {{ 'Active' if project.link else 'Inactive' }}
            </span>
          </p>
          <!-- View Project Button -->
          {% if project.link %}
          <a href="{{ project.link }}" target="_blank" class="btn btn-info mt-auto">View Project</a>
          {% else %}
          <button class="btn btn-secondary mt-auto" disabled>No Link Available</button>
          {% endif %}
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</section>
{% endblock %}